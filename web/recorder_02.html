<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>

    <main>
        <button id="start-recording">Start Recording</button>
        <button id="stop-recording">Stop Recording</button>
    </main>

    <script>
        window.addEventListener('load', function() {
            const startRecording = document.getElementById('start-recording')
            const stopRecording = document.getElementById('stop-recording')

            let audioCtx = null
            let mediaSrc = null
            let recorder = null
            let stream = null

            startRecording.addEventListener('click', function () {
                navigator.mediaDevices.getUserMedia({ audio: true }).then(function (stream) {
                    _stream = stream

                    audioCtx = new AudioContext()
                    mediaSrc = audioCtx.createMediaStreamSource(_stream)

                    recorder = new Recoder(mediaSrc, { numChannels: 1 })
                    recorder.record()
                })
            })

        })
    </script>

</body>
</html>